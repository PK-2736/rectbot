name = "rectbot-backend"
account_id = "74749d85b9c280c0daa93e12ea5d5a14"
# route = "https://api.rectbot.tech/*"  # Custom Domainを使用するためコメントアウト
main = "index.js"
compatibility_date = "2025-09-11"
workers_dev = true  # 一時的にworkers.devで動作確認

# KVは使用しないため削除
# kv_namespaces は削除済み

# Durable Objects 設定
[durable_objects]
bindings = [
	{ name = "RECRUITS_DO", class_name = "RecruitsDO" }
]

[[migrations]]
tag = "v1-recruits-do"
new_sqlite_classes = ["RecruitsDO"]

# 環境変数は GitHub Actions で動的に設定されます
[vars]
# GitHub Actions が自動で以下の環境変数を追加します:
# - REACT_APP_DISCORD_CLIENT_ID
# - REACT_APP_DISCORD_REDIRECT_URI  
# - SUPABASE_URL
#
# シークレットは wrangler secret put コマンドで設定されます:
# - DISCORD_CLIENT_SECRET
# - SUPABASE_SERVICE_ROLE_KEY